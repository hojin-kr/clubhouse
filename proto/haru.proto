// Copyright 2015 gRPC authors.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

syntax = "proto3";

option go_package = "github.com/hojin-kr/haru/cmd/proto";
// option java_multiple_files = true;
// option java_package = "io.grpc.examples.helloworld";
// option java_outer_classname = "HelloWorldProto";

package haru;

// Service definition.
service version1 {
  // Create Account
  rpc CreateAccount (AccountRequest) returns (AccountReply) {}
  // GetProfile
  rpc GetProfile (ProfileRequest) returns (ProfileReply) {}
  // UpdateProfile
  rpc UpdateProfile (ProfileRequest) returns (ProfileReply) {}
  // GetPoint
  rpc GetPoint (PointRequest) returns (PointReply) {}
  // IncrPoint
  rpc IncrPoint (PointRequest) returns (PointReply) {}
  // GetPlaceId
  rpc GetPlace (PlaceRequest) returns (PlaceReply) {}
  // UpdatePlaceProfile
  rpc UpdatePlaceProfile (PlaceRequest) returns (PlaceProfileReply) {}
  // getNearbySearch
  rpc GetNearbySearch (PlaceRequest) returns (PlaceReplyList) {}
}

message AccountRequest {
  int64 ID = 1;
  int64 RegisterTimestamp = 2;
}

message AccountReply {
  int64 ID = 1;
  int64 RegisterTimestamp = 2;
}

message ProfileRequest {
  int64 ID = 1;
  string Nickname = 2;
  repeated string Likes = 3;
}

message PlaceRequest {
  string Input = 1;
  string Language = 2;
  string PlaceID = 3;
  bool IsVisit = 4;
  bool IsLike = 5;
  string Location = 6;
  uint64 Radius = 7;
  string Keyword = 8;
}

message ProfileReply {
  int64 ID = 1;
  string Nickname = 2;
  repeated string Likes = 3;
}

message PointRequest {
  int64 ID = 1;
  int64 Point = 2;
}
// 서버 단독 Place 정보들 모델로 정의 포인트, 방문정보등
message PointReply {
  int64 ID = 1;
  int64 Point = 2;
  int64 Count = 3;
}

message PlaceReply {
  message AddressComponent {
    string LongName = 1;
    string ShortName = 2;
    repeated string Types = 3;
  }
  repeated AddressComponent AddressComponents = 1;
  string FormattedAddress = 2;
  string AdrAddress = 3;
  string FormattedPhoneNumber = 4;
  string InternationalPhoneNumber = 5;
  AddressGeometry Geometry = 6;
  string Name = 7;
  string Icon = 8;
  string PlaceID = 9;
  float Rating = 10;
  int64 UserRatingsTotal = 11;
  repeated string Types = 12;
  OpeningHours OpeningHours = 13;
  repeated Photo Photos = 14;
  int64 PriceLevel = 15;
  string Vicinity = 16;
  bool PermanentlyClosed = 17;
  string BusinessStatus = 18;
  repeated PlaceReview Reviews = 19;
  int64 UTCOffset = 20;
  string Website = 21;
  string URL = 22;
  repeated string HTMLAttributions = 23;
}

message AddressGeometry {
  LatLng Location = 1;
  string LocationType = 2;
  LatLngBounds Bounds = 3;
  LatLngBounds Viewport = 4;
  repeated string Types = 5;
}

message LatLng {
  float Lat = 1;
  float Lng = 2;
}

message LatLngBounds {
  LatLng NorthEast = 1;
  LatLng SoutWest = 2;
}

message OpeningHours {
  bool OpenNow = 1;
  repeated OpeningHoursPeriod Periods = 2;
  repeated string WeekdayText = 3;
  bool PermanentlyClosed = 4;
}

message OpeningHoursPeriod {
  OpeningHoursOpenClose Open  = 1;
  OpeningHoursOpenClose Close = 2;
}

message OpeningHoursOpenClose {
  int64 Day = 1;
  string Time = 2;
}

message Photo {
  string PhotoReference = 1;
  int64 Height = 2;
  int64 Width = 3;
  repeated string HTMLAttributions = 4;
}

message PlaceReview {
  repeated PlaceReviewAspect Aspects = 1;
  string AuthorName = 2;
  string AuthorURL = 3;
  string AuthorProfilePhoto = 4;
  string Language = 5;
  int64 Rating = 6;
  string Text = 7;
  int64 Time = 8;
}

message PlaceReviewAspect {
  int64 Rating = 1;
  string Type = 2;
}

message PlaceProfileReply {
  string PlaceID = 1;
  string Populartimes = 2;
  int64 Likes = 3;
}

message PlaceReplyList {
  repeated PlaceReply PlaceReplyList = 1;
}